<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menu.txt 편집기</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .header {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .editor-container {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .toolbar {
            background: #f8f9fa;
            padding: 15px;
            border-bottom: 1px solid #dee2e6;
        }
        .btn {
            background: #007bff;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            margin-right: 10px;
        }
        .btn:hover {
            background: #0056b3;
        }
        .btn-success {
            background: #28a745;
        }
        .btn-success:hover {
            background: #1e7e34;
        }
        textarea {
            width: 100%;
            height: 500px;
            border: none;
            padding: 20px;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 14px;
            line-height: 1.5;
            resize: vertical;
            outline: none;
        }
        .format-help {
            background: #e9ecef;
            padding: 15px;
            margin-top: 20px;
            border-radius: 8px;
        }
        .format-help h3 {
            margin-top: 0;
            color: #495057;
        }
        .example {
            background: #f8f9fa;
            padding: 10px;
            border-left: 4px solid #007bff;
            margin: 10px 0;
            font-family: monospace;
        }
        .download-link {
            display: none;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>🍰 바샤커피 Menu.txt 편집기</h1>
        <p>이 편집기로 menu.txt 내용을 수정하고 다운로드할 수 있습니다.</p>
    </div>

    <div class="editor-container">
        <div class="toolbar">
            <button class="btn" onclick="loadCurrentMenu()">현재 menu.txt 불러오기</button>
            <button class="btn btn-success" onclick="downloadMenu()">menu.txt 다운로드</button>
            <button class="btn" onclick="addMenuItem()">새 메뉴 추가</button>
        </div>
        <textarea id="menuEditor" placeholder="menu.txt 내용이 여기에 표시됩니다..."></textarea>
    </div>

    <div class="format-help">
        <h3>📝 형식 가이드</h3>
        <p><strong>형식:</strong> 카테고리|이름|설명|가격|이미지파일명|태그(옵션)</p>
        
        <div class="example">
Croissants and Cakes|딸기 케이크|신선한 딸기와 크림|15000|croissants-and-cakes/strawberry-cake.jpg|케이크,딸기
        </div>

        <p><strong>주의사항:</strong></p>
        <ul>
            <li>각 항목은 | (파이프) 문자로 구분</li>
            <li>가격은 숫자만 입력 (원 단위)</li>
            <li>이미지 경로는 images/ 폴더 기준</li>
            <li>태그는 쉼표로 구분</li>
            <li># 으로 시작하는 줄은 주석</li>
        </ul>
    </div>

    <a id="downloadLink" class="download-link"></a>

    <script>
        // 현재 menu.txt 내용
        const currentMenuContent = `# 바샤커피 메뉴 관리 파일
# 형식: 카테고리|이름|설명|가격|이미지파일명|태그(옵션)
# 주석은 #으로 시작

# === Housemade Pastries ===
Housemade Pastries|오렌지 마들렌|버터 향과 상큼한 오렌지 제스트|5200|housemade-pastries/madeleine-orange.jpg|페이스트리,오렌지
Housemade Pastries|버터 스콘|겉바속촉 클래식 스콘|4800|housemade-pastries/scone-butter.jpg|스콘,버터
Housemade Pastries|블루베리 머핀|신선한 블루베리가 가득한 촉촉한 머핀|5500|housemade-pastries/muffin-blueberry.jpg|머핀,블루베리

# === Sandwich ===
Sandwich|클럽 샌드위치|신선한 야채와 햄, 치킨이 들어간 볼륨 샌드위치|12000|sandwich/club-sandwich.jpg|샌드위치,치킨
Sandwich|BLT 샌드위치|베이컨, 레터스, 토마토의 클래식 조합|10500|sandwich/blt-sandwich.jpg|샌드위치,베이컨
Sandwich|햄치즈 파니니|바삭하게 구운 파니니에 햄과 치즈|11800|sandwich/panini-ham-cheese.jpg|파니니,햄,치즈

# === Ice Desserts ===
Ice Desserts|바닐라 젤라토|진짜 바닐라 빈으로 만든 프리미엄 젤라토|8500|ice-desserts/gelato-vanilla.jpg|젤라토,바닐라
Ice Desserts|망고 빙수|달콤한 망고와 연유가 올라간 시원한 빙수|11000|ice-desserts/shaved-ice-mango.jpg|빙수,망고
Ice Desserts|더블 스쿱 소르베|시원하고 상큼한 수제 소르베|10000|ice-desserts/double-scoop-sorbet.jpg|소르베,아이스크림

# === Farm Fresh Eggs ===
Farm Fresh Eggs|에그 베네딕트|농장 직송 달걀로 만든 클래식 브런치|15800|farm-fresh-eggs/eggs-benedict.jpg|달걀,브런치
Farm Fresh Eggs|버섯 오믈렛|신선한 버섯이 가득한 부드러운 오믈렛|13500|farm-fresh-eggs/omelet-mushroom.jpg|달걀,버섯
Farm Fresh Eggs|에그 프라이와 홈메이드 비프 콩피|농장 직송 달걀과 정성스럽게 조리한 비프 콩피|28000|farm-fresh-eggs/fried-eggs-beef-confit.jpg|달걀,비프콩피,프리미엄

# === Main ===
Main|카르보나라 파스타|크리미한 소스와 베이컨의 완벽한 조화|16500|main/pasta-carbonara.jpg|파스타,카르보나라
Main|립아이 스테이크|부드럽고 육즙 가득한 프리미엄 스테이크|28000|main/steak-ribeye.jpg|스테이크,고기
Main|비프 콩피와 달걀 요리|저온 조리한 비프 콩피와 달걀의 환상적인 조합|22000|main/beef-confit-eggs.jpg|비프콩피,달걀,프리미엄

# === Croissants and Cakes ===
Croissants and Cakes|플레인 크루아상|바삭하고 고소한 프랑스 전통 크루아상|4200|croissants-and-cakes/croissant-plain.jpg|크루아상,프랑스
Croissants and Cakes|초콜릿 케이크|진한 초콜릿의 달콤함이 가득한 케이크|9800|croissants-and-cakes/chocolate-cake.jpg|케이크,초콜릿
Croissants and Cakes|버터 크루아상|황금빛 버터가 가득한 정통 프랑스 크루아상|9900|croissants-and-cakes/butter-croissant.jpg|크루아상,버터
Croissants and Cakes|크루아상 콩테 치즈|고급 콩테 치즈와 크루아상의 조합|17000|croissants-and-cakes/croissant-comte-cheese.jpg|크루아상,치즈
Croissants and Cakes|카페 라틴 초콜릿 크루아상|진한 초콜릿과 커피의 환상적인 조합|12000|croissants-and-cakes/chocolate-croissant-coffee.jpg|크루아상,초콜릿,커피
Croissants and Cakes|아라비카 커피 마블 케이크|100% 아라비카 커피로 만든 마블 케이크|9900|croissants-and-cakes/arabica-coffee-marble-cake.jpg|케이크,커피

# === Salad ===
Salad|시저 샐러드|바삭한 크루통과 파마산 치즈가 올라간 클래식 샐러드|11200|salad/caesar-salad.jpg|샐러드,치즈
Salad|퀴노아 샐러드|건강한 퀴노아와 신선한 야채의 조합|12800|salad/quinoa-salad.jpg|샐러드,퀴노아,건강식
Salad|니스식 바샤 샐러드|참치와 올리브, 삶은 달걀이 들어간 프렌치 샐러드|28000|salad/bacha-nicoise-salad.jpg|샐러드,참치,프렌치

# === Our Signature Dessert ===
Our Signature Dessert|시그니처 티라미수|바샤커피만의 특별한 레시피로 만든 티라미수|13500|signature-dessert/signature-tiramisu.jpg|티라미수,시그니처
Our Signature Dessert|시그니처 초콜릿 디저트|프리미엄 초콜릿으로 만든 바샤커피 시그니처 디저트|15000|signature-dessert/signature-chocolate.jpg|초콜릿,시그니처,프리미엄
Our Signature Dessert|라즈베리 바닐라 앙트르메|라즈베리와 바닐라의 조화로운 프렌치 디저트|12000|signature-dessert/raspberry-vanilla-entremets.jpg|라즈베리,바닐라,프렌치`;

        function loadCurrentMenu() {
            document.getElementById('menuEditor').value = currentMenuContent;
        }

        function downloadMenu() {
            const content = document.getElementById('menuEditor').value;
            const blob = new Blob([content], { type: 'text/plain;charset=utf-8' });
            const url = URL.createObjectURL(blob);
            
            const link = document.getElementById('downloadLink');
            link.href = url;
            link.download = 'menu.txt';
            link.click();
            
            URL.revokeObjectURL(url);
            alert('menu.txt 파일이 다운로드되었습니다!');
        }

        function addMenuItem() {
            const editor = document.getElementById('menuEditor');
            const template = '\nCroissants and Cakes|새 메뉴|메뉴 설명|10000|croissants-and-cakes/new-menu.jpg|태그1,태그2';
            editor.value += template;
            editor.focus();
            // 새로 추가된 텍스트로 스크롤
            editor.selectionStart = editor.value.length - template.length + 1;
            editor.selectionEnd = editor.value.length;
        }

        // 페이지 로드시 현재 메뉴 자동 로드
        window.onload = function() {
            loadCurrentMenu();
        };
    </script>
</body>
</html>