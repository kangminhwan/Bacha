# 📝 바샤커피 TXT 파일 기반 메뉴 관리 시스템

## 🚀 개요

이 시스템은 **menu.txt 파일 하나만 수정**하면 자동으로 웹사이트 메뉴가 업데이트되는 간편한 메뉴 관리 시스템입니다.

### ✨ 특징
- **간단함**: 텍스트 파일 하나만 수정하면 끝
- **정확함**: 메뉴명, 가격, 설명을 직접 입력
- **유연함**: 카테고리, 태그, 설명 자유롭게 설정
- **안전함**: 잘못된 형식은 자동으로 제외
- **시각적**: 누락된 이미지 파일 자동 감지

## 📁 파일 구조

```
C:\Bacha\Bacha\
├── menu.txt (✨ 메뉴 관리 파일 - 이 파일만 수정하세요!)
├── menu-manager.html (새로운 TXT 기반 시스템)
├── api\
│   └── load-menu.php (TXT 파일 파싱 API)
├── images\
│   ├── housemade-pastries\
│   ├── sandwich\
│   ├── ice-desserts\
│   ├── farm-fresh-eggs\
│   ├── main\
│   ├── croissants-and-cakes\
│   ├── salad\
│   └── signature-dessert\
└── TXT메뉴관리가이드.md (이 파일)
```

## 📖 menu.txt 파일 형식

### 기본 형식
```
카테고리|이름|설명|가격|이미지파일명|태그(옵션)
```

### 실제 예시
```
# 주석은 #으로 시작합니다
# === Housemade Pastries ===
Housemade Pastries|오렌지 마들렌|버터 향과 상큼한 오렌지 제스트|5200|housemade-pastries/madeleine-orange.jpg|페이스트리,오렌지

# === Sandwich ===  
Sandwich|클럽 샌드위치|신선한 야채와 햄, 치킨이 들어간 볼륨 샌드위치|12000|sandwich/club-sandwich.jpg|샌드위치,치킨

# === Farm Fresh Eggs ===
Farm Fresh Eggs|에그 프라이와 홈메이드 비프 콩피|농장 직송 달걀과 정성스럽게 조리한 비프 콩피|18500|farm-fresh-eggs/egg-fry-beef-confit.jpg|달걀,비프콩피,프리미엄
```

## 🎯 메뉴 추가/수정/삭제 방법

### 1. 새 메뉴 추가
1. **이미지 준비**: 해당 카테고리 폴더에 이미지 파일 추가
2. **menu.txt 수정**: 새로운 줄에 메뉴 정보 추가
3. **웹페이지 새로고침**: "🔄 새로고침" 버튼 클릭

### 2. 기존 메뉴 수정
1. **menu.txt에서 해당 줄 찾기**
2. **정보 수정** (이름, 설명, 가격 등)
3. **웹페이지 새로고침**

### 3. 메뉴 삭제
1. **menu.txt에서 해당 줄 삭제**
2. **웹페이지 새로고침**

## 📋 각 필드 설명

### 1. 카테고리 (필수)
```
사용 가능한 카테고리:
- Housemade Pastries (홈메이드 페이스트리)
- Sandwich (샌드위치)
- Ice Desserts (아이스 디저트)
- Farm Fresh Eggs (농장 신선 달걀)
- Main (메인 요리)
- Croissants and Cakes (크루아상과 케이크)
- Salad (샐러드)
- Our Signature Dessert (시그니처 디저트)
```

### 2. 이름 (필수)
```
✅ 좋은 예시:
- "에그 프라이와 홈메이드 비프 콩피"
- "오렌지 마들렌"
- "클럽 샌드위치"

❌ 피해야 할 것:
- 너무 긴 이름 (30자 이상)
- 특수문자 남용
```

### 3. 설명 (필수)
```
✅ 좋은 예시:
- "농장 직송 달걀과 정성스럽게 조리한 비프 콩피"
- "버터 향과 상큼한 오렌지 제스트"
- "신선한 야채와 햄, 치킨이 들어간 볼륨 샌드위치"

팁: 
- 재료나 조리법 언급
- 맛의 특징 설명
- 20-50자 권장
```

### 4. 가격 (필수)
```
✅ 올바른 형식:
- 5200 (숫자만)
- 12000
- 18500

❌ 잘못된 형식:
- 5,200 (쉼표 사용)
- 5200원 (단위 포함)
- 5.2 (소수점)
```

### 5. 이미지 파일명 (필수)
```
✅ 올바른 형식:
- housemade-pastries/madeleine-orange.jpg
- sandwich/club-sandwich.jpg
- farm-fresh-eggs/egg-fry-beef-confit.jpg

주의사항:
- images/ 폴더 기준 상대 경로
- 파일 확장자 포함 (.jpg, .png, .webp)
- 폴더명/파일명 형식
```

### 6. 태그 (옵션)
```
✅ 올바른 형식:
- 페이스트리,오렌지
- 샌드위치,치킨
- 달걀,비프콩피,프리미엄

규칙:
- 쉼표(,)로 구분
- 공백 없이
- 검색 키워드로 활용됨
```

## 🔧 실제 사용 예시

### 에그 프라이와 비프 콩피 추가하기

**1단계: 이미지 준비**
```
이미지 파일을 다음 위치에 저장:
C:\Bacha\Bacha\images\farm-fresh-eggs\egg-fry-beef-confit.jpg
```

**2단계: menu.txt에 메뉴 추가**
```
# Farm Fresh Eggs 섹션에 다음 줄 추가:
Farm Fresh Eggs|에그 프라이와 홈메이드 비프 콩피|농장 직송 달걀과 정성스럽게 조리한 비프 콩피|18500|farm-fresh-eggs/egg-fry-beef-confit.jpg|달걀,비프콩피,프리미엄
```

**3단계: 웹페이지 확인**
```
1. menu-manager.html 열기
2. "🔄 새로고침" 버튼 클릭
3. "Farm Fresh Eggs" 카테고리에서 확인
```

## ⚠️ 주의사항 및 문제 해결

### 자주 발생하는 오류

**1. 메뉴가 표시되지 않음**
```
원인: 형식 오류 (파이프(|) 개수 부족)
해결: 최소 5개 필드 확인 (카테고리|이름|설명|가격|이미지)

예시:
❌ Sandwich|클럽 샌드위치|맛있는 샌드위치
✅ Sandwich|클럽 샌드위치|맛있는 샌드위치|12000|sandwich/club.jpg
```

**2. 이미지가 표시되지 않음**
```
원인: 이미지 파일 경로 오류 또는 파일 없음
해결: 
- 파일 경로 다시 확인
- 이미지 파일 존재 여부 확인
- 파일명 대소문자 확인

시스템이 자동으로 누락된 이미지를 감지하여 경고 표시
```

**3. 가격이 이상하게 표시됨**
```
원인: 가격 필드에 숫자가 아닌 값 입력
해결: 숫자만 입력 (쉼표, 원 단위 제외)

❌ 5,200원
❌ 5.2천원  
✅ 5200
```

### 성능 최적화 팁

**1. 이미지 최적화**
- 권장 크기: 1200x800px
- 파일 크기: 500KB 이하
- 형식: JPG (일반), PNG (투명배경), WebP (최신)

**2. 메뉴 정리**
- 주석 활용하여 카테고리별 정리
- 빈 줄로 구분하여 가독성 향상
- 정기적으로 사용하지 않는 메뉴 정리

## 🚀 웹서버 설정

### 로컬 테스트 (XAMPP)
```bash
1. XAMPP 설치 및 실행
2. 프로젝트를 htdocs 폴더에 복사
3. http://localhost/Bacha/menu-manager.html 접속
```

### PHP 없는 환경
```bash
- 파일로 직접 열기도 가능
- 시뮬레이션 모드로 동작
- 기본 샘플 데이터 표시
```

## 💡 고급 활용법

### 1. 시즌 메뉴 관리
```
# === 시즌 메뉴 (겨울) ===
Our Signature Dessert|겨울 한정 따뜻한 초콜릿|시나몬과 마시멜로가 올라간 특별한 핫초콜릿|8500|signature-dessert/winter-hot-chocolate.jpg|겨울,한정,따뜻함

시즌이 끝나면 해당 줄만 삭제하면 됩니다!
```

### 2. 프로모션 메뉴
```
# === 프로모션 메뉴 ===
Sandwich|런치 세트 (샌드위치+음료)|클럽 샌드위치와 아메리카노 세트|15000|sandwich/lunch-set.jpg|세트,할인,런치

태그에 "할인", "세트", "프로모션" 등을 추가하여 검색 가능
```

### 3. 메뉴 번호 시스템
```
Housemade Pastries|M001 - 오렌지 마들렌|메뉴번호가 포함된 마들렌|5200|housemade-pastries/m001-madeleine.jpg|M001,마들렌

메뉴명 앞에 고유 번호를 추가하여 주문 시스템과 연동 가능
```

## 📊 메뉴 분석 기능

웹페이지 상단에 표시되는 통계:
- **총 메뉴 수**: 현재 등록된 메뉴 개수
- **카테고리 수**: 사용 중인 카테고리 개수  
- **가격 범위**: 최저가 ~ 최고가
- **평균 가격**: 모든 메뉴의 평균 가격

누락된 이미지 파일도 자동으로 감지하여 경고 표시!

## 🎯 마이그레이션 가이드

### 기존 시스템에서 TXT 시스템으로 전환

**1단계: 기존 데이터 백업**
```bash
기존 test.html, index.html 파일 백업
```

**2단계: 메뉴 데이터 이전**
```bash
기존 메뉴 데이터를 menu.txt 형식으로 변환
각 메뉴별로 한 줄씩 작성
```

**3단계: 이미지 정리**
```bash
이미지 파일들을 적절한 카테고리 폴더로 이동
파일명을 영문으로 정리
```

**4단계: 테스트**
```bash
menu-manager.html로 접속하여 정상 동작 확인
누락된 이미지나 오류 메시지 확인
```

---

## 🔄 빠른 참조

### 메뉴 추가 체크리스트
- [ ] 이미지 파일 준비 (적절한 크기와 형식)
- [ ] 카테고리 폴더에 이미지 저장
- [ ] menu.txt에 새 줄 추가 (5개 필드 모두)
- [ ] 형식 확인 (파이프 구분, 가격은 숫자만)
- [ ] 웹페이지에서 새로고침 버튼 클릭
- [ ] 정상 표시 확인

### 문제 발생 시 확인사항
1. menu.txt 파일 형식 확인
2. 이미지 파일 경로 및 존재 여부 확인  
3. PHP 서버 정상 동작 확인
4. 브라우저 콘솔에서 오류 메시지 확인
5. 웹페이지의 경고 메시지 확인

**이제 menu.txt 파일 하나만 수정하면 모든 메뉴 관리가 완료됩니다! 🎉**